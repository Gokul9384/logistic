{"version":3,"sources":["../../../src/Controller/CodeMove/DriverDashboard.controller.ts"],"sourcesContent":["import { Controller, Get, Query, Req } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { DriverDashboardService } from '@Root/Service/CodeMove/DriverDashboard.service';\nimport { JWTAuthController } from '../JWTAuth.controller';\nimport { CurrentUser } from '@Root/Helper/Common.helper';\nimport { driver } from '@Root/Database/Table/CodeMove/driver';\n\n@ApiTags('Driver Dashboard')\n@Controller({ path: 'DriverDashboard', version: '1' })\nexport class DriverDashboardController extends JWTAuthController {\n    constructor(private readonly DriverDashboardService: DriverDashboardService) {\n        super();\n    }\n\n    @Get('getDriverStats')\n    async getDriverStats(@CurrentUser() UserId: string) {\n        const DriverData = await driver.findOne({ where: { user_id: UserId } })\n        return await this.DriverDashboardService.getDriverStats(DriverData.id);\n    }\n\n    @Get('getDriverOrders')\n    async getDriverOrders(@CurrentUser() UserId: string, @Query('date') date?: string) {\n        const DriverData = await driver.findOne({ where: { user_id: UserId } })\n        return await this.DriverDashboardService.getDriverOrders(DriverData.id, date);\n    }\n\n    @Get('GetAllDeliverys')\n    async GetAllDeliverys(@CurrentUser() UserId: string) {\n        const DriverData = await driver.findOne({ where: { user_id: UserId } })\n        return await this.DriverDashboardService.GetAllDeliverys(DriverData.id);\n    }\n}\n"],"names":["DriverDashboardController","JWTAuthController","getDriverStats","UserId","DriverData","driver","findOne","where","user_id","DriverDashboardService","id","getDriverOrders","date","GetAllDeliverys","path","version"],"mappings":";;;;+BASaA;;;eAAAA;;;wBAT+B;yBACpB;wCACe;mCACL;8BACN;wBACL;;;;;;;;;;;;;;;AAIhB,IAAA,AAAMA,4BAAN,MAAMA,kCAAkCC,oCAAiB;IAK5D,MACMC,eAAe,AAAeC,MAAc,EAAE;QAChD,MAAMC,aAAa,MAAMC,cAAM,CAACC,OAAO,CAAC;YAAEC,OAAO;gBAAEC,SAASL;YAAO;QAAE;QACrE,OAAO,MAAM,IAAI,CAACM,sBAAsB,CAACP,cAAc,CAACE,WAAWM,EAAE;IACzE;IAEA,MACMC,gBAAgB,AAAeR,MAAc,EAAE,AAAeS,IAAa,EAAE;QAC/E,MAAMR,aAAa,MAAMC,cAAM,CAACC,OAAO,CAAC;YAAEC,OAAO;gBAAEC,SAASL;YAAO;QAAE;QACrE,OAAO,MAAM,IAAI,CAACM,sBAAsB,CAACE,eAAe,CAACP,WAAWM,EAAE,EAAEE;IAC5E;IAEA,MACMC,gBAAgB,AAAeV,MAAc,EAAE;QACjD,MAAMC,aAAa,MAAMC,cAAM,CAACC,OAAO,CAAC;YAAEC,OAAO;gBAAEC,SAASL;YAAO;QAAE;QACrE,OAAO,MAAM,IAAI,CAACM,sBAAsB,CAACI,eAAe,CAACT,WAAWM,EAAE;IAC1E;IApBA,YAAY,AAAiBD,sBAA8C,CAAE;QACzE,KAAK,SADoBA,yBAAAA;IAE7B;AAmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAvBcK,MAAM;QAAmBC,SAAS"}